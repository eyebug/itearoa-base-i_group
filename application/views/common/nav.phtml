<div class="span2">
    <div class="well side-nav">
        <ul class="nav nav-list" id="navList">
            <li class="nav-header">
                <span class="nav-header-open">
                    <i class="icon-plus icon-plus-opacity pull-right"></i><?php echo Enum_Lang::getPageText('nav', 'groupManager'); ?>
                </span>
                <ul class="nav nav-list nav-li-list hide">
                    <li><a href="/group/userList"><?php echo Enum_Lang::getPageText('nav', 'groupUser'); ?></a></li>
                    <li><a href="/hotel/hotelList"><?php echo Enum_Lang::getPageText('nav', 'hotelList'); ?></a></li>
                </ul>
            </li>
            <li class="nav-header">
                <span class="nav-header-open">
                    <i class="icon-plus icon-plus-opacity pull-right"></i><?php echo Enum_Lang::getPageText('nav', 'activityUserManager'); ?>
                </span>
                <ul class="nav nav-list nav-li-list hide">
                    <li><a href="/activity/activityUserList"><?php echo Enum_Lang::getPageText('nav', 'activityUser'); ?></a></li>
                </ul>
            </li>
            <li class="nav-header">
                <span class="nav-header-open">
                    <i class="icon-plus icon-plus-opacity pull-right"></i><?php echo Enum_Lang::getPageText('nav', 'appManager'); ?>
                </span>
                <ul class="nav nav-list nav-li-list hide">
                    <li><a href="/app/startMsgList"><?php echo Enum_Lang::getPageText('nav', 'startMsgList'); ?></a></li>
                    <li><a href="/app/groupPush"><?php echo Enum_Lang::getPageText('nav', 'groupPush'); ?></a></li>
                </ul>
            </li>
        </ul>
    </div>
</div>
<script type="text/javascript">
    var log = console.log.bind(console) || alert;
    $(function () {
        var pathname = window.location.pathname;
        var defaultSelected = 0;
        if (!pathname) {
            defaultSelected = 1;
        }

        $('.nav-li-list a').each(function (i, item) {
            var item = $(item);
            if (defaultSelected) {
                if (i == 0) {
                    item.parent().addClass('active').parent('ul').removeClass('hide');
                    return;
                }
            } else {
                if (item.attr('href') == pathname) {
                    item.parent().addClass('active').parent('ul').removeClass('hide').prev().children('i').removeClass('icon-plus').addClass('icon-minus');
                    return;
                }
            }
        });

        $('.nav-header-open').on('click', function () {
            var T = $(this);
            var flag = T.next('.nav-li-list').toggle().css('display');
            if (flag == 'block') {
                T.find('i').removeClass('icon-plus').addClass('icon-minus');
                var item = T.parents('ul').siblings().find('.nav-li-list').hide();
            } else {
                T.find('i').removeClass('icon-minus').addClass('icon-plus');
            }
            T.parents('ul').siblings().find('i').removeClass('icon-minus').addClass('icon-plus');
        })
    });
</script>
